–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
login.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
/**
 * Template Name: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
 */

if (!defined('ABSPATH')) {
    exit;
}

// –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
if (is_user_logged_in()) {
    wp_redirect(home_url());
    exit;
}

get_header(); ?>

<main class="page">
    <div class="page__container">
        <div class="back__container">
            <a href="javascript:history.back()" class="back__button">
                <img src="<?php echo get_template_directory_uri(); ?>/assets/img/icon/arrow-black.svg" alt="–ù–∞–∑–∞–¥" />
                –ù–∞–∑–∞–¥
            </a>
        </div>

        <div class="auth-page">
            <div class="auth-page__container">
                <div class="auth-page__content">
                    <h1 class="auth-page__title">–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç</h1>
                    
                    <?php
                    // –í—ã–≤–æ–¥ –æ—à–∏–±–æ–∫
                    if (isset($_GET['login']) && $_GET['login'] == 'failed') {
                        echo '<div class="auth-message error">–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å</div>';
                    }
                    
                    if (isset($_GET['checkemail']) && $_GET['checkemail'] == 'confirm') {
                        echo '<div class="auth-message success">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à—É –ø–æ—á—Ç—É –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è</div>';
                    }
                    ?>

                    <form class="auth-form" method="post" action="<?php echo wp_login_url(); ?>">
                        <div class="auth-form__group">
                            <label for="login_username" class="auth-form__label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ Email *</label>
                            <input type="text" id="login_username" name="log" class="auth-form__input" required>
                        </div>
                        
                        <div class="auth-form__group">
                            <label for="login_password" class="auth-form__label">–ü–∞—Ä–æ–ª—å *</label>
                            <input type="password" id="login_password" name="pwd" class="auth-form__input" required>
                        </div>
                        
                        <div class="auth-form__group auth-form__group--row">
                            <label class="auth-form__checkbox">
                                <input type="checkbox" name="rememberme">
                                <span>–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è</span>
                            </label>
                            
                            <a href="<?php echo get_permalink(get_page_by_path('password-reset')); ?>" class="auth-form__forgot">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
                        </div>
                        
                        <input type="hidden" name="redirect_to" value="<?php echo home_url(); ?>">
                        
                        <button type="submit" class="auth-form__button button-black">–í–æ–π—Ç–∏</button>
                    </form>
                    
                    <div class="auth-page__footer">
                        <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="<?php echo get_permalink(get_page_by_path('register')); ?>" class="auth-page__link">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<?php get_footer(); ?>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
page-profile-account.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
/**
 * Template Name: –ê–Ω–∫–µ—Ç–∞ –ø—Ä–æ—Ñ–∏–ª—è
 * Template Post Type: page
 */

if (!defined('ABSPATH')) {
    exit;
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
if (!is_user_logged_in()) {
    wp_redirect(wp_login_url(get_permalink()));
    exit;
}

$current_user = wp_get_current_user();

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
if (isset($_POST['update_profile_nonce']) && wp_verify_nonce($_POST['update_profile_nonce'], 'update_profile')) {
    $user_id = get_current_user_id();
    $first_name = sanitize_text_field($_POST['first_name']);
    $last_name = sanitize_text_field($_POST['last_name']);
    $display_name = sanitize_text_field($_POST['display_name']);
    $email = sanitize_email($_POST['email']);
    $phone = sanitize_text_field($_POST['phone']);
    
    $userdata = array(
        'ID' => $user_id,
        'first_name' => $first_name,
        'last_name' => $last_name,
        'display_name' => $display_name,
        'user_email' => $email
    );
    
    $result = wp_update_user($userdata);
    
    if (!is_wp_error($result)) {
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã–µ
        update_user_meta($user_id, 'billing_phone', $phone);
        update_user_meta($user_id, 'billing_first_name', $first_name);
        update_user_meta($user_id, 'billing_last_name', $last_name);
        
        $success_message = '–ü—Ä–æ—Ñ–∏–ª—å —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω';
    } else {
        $error_message = '–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è: ' . $result->get_error_message();
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è
if (isset($_POST['change_password_nonce']) && wp_verify_nonce($_POST['change_password_nonce'], 'change_password')) {
    $user_id = get_current_user_id();
    $current_password = $_POST['current_password'];
    $new_password = $_POST['new_password'];
    $confirm_password = $_POST['confirm_password'];
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å
    $user = get_user_by('id', $user_id);
    if ($user && wp_check_password($current_password, $user->data->user_pass, $user_id)) {
        if ($new_password === $confirm_password) {
            if (strlen($new_password) >= 6) {
                wp_set_password($new_password, $user_id);
                $success_message = '–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω';
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏–Ω–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è
                wp_set_current_user($user_id);
                wp_set_auth_cookie($user_id);
            } else {
                $error_message = '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤';
            }
        } else {
            $error_message = '–ù–æ–≤—ã–µ –ø–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç';
        }
    } else {
        $error_message = '–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å —É–∫–∞–∑–∞–Ω –Ω–µ–≤–µ—Ä–Ω–æ';
    }
}

$user_phone = get_user_meta($current_user->ID, 'billing_phone', true);

get_header(); ?>

<div class="wrapper">
    <header class="header">
        <div class="header__container">
            <a href="<?php echo home_url(); ?>" class="header__logo logo">
                <?php bloginfo('name'); ?>
            </a>
            
            <div class="header__menu menu">
                <button type="button" class="menu__icon icon-menu">
                    <span></span>
                </button>
                
                <nav class="menu__body">
                    <?php
                    wp_nav_menu(array(
                        'theme_location' => 'primary',
                        'container' => false,
                        'menu_class' => 'menu__list',
                        'walker' => new Custom_Walker_Nav_Menu()
                    ));
                    ?>
                </nav>
            </div>
        </div>
    </header>

    <main class="page">
        <section class="section__title">
            <h1 class="title">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
        </section>

        <section class="profile">
            <div class="profile__container">
                <!-- –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
                <aside class="profile__sidebar">
                    <div class="profile__avatar">
                        <?php
                        $avatar = get_avatar($current_user->ID, 80, '', '', array('class' => 'profile__avatar-image'));
                        if ($avatar) {
                            echo $avatar;
                        } else {
                            echo '<img src="' . get_template_directory_uri() . '/img/profile/avatar.jpg" alt="–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" class="profile__avatar-image">';
                        }
                        ?>
                        <p class="profile__avatar-name">
                            <?php 
                            $display_name = $current_user->display_name ?: $current_user->user_login;
                            echo esc_html($display_name);
                            ?>
                        </p>
                    </div>
                    
                    <nav class="profile__navigation" aria-label="–°—Ç—Ä–∞–Ω–∏—Ü—ã –∞–∫–∫–∞—É–Ω—Ç–∞">
                        <ul class="profile__nav-list">
                            <li class="profile__nav-item profile__nav-item--orders">
                                <a href="<?php echo wc_get_account_endpoint_url('orders'); ?>" class="profile__nav-link">
                                    <span class="profile__nav-icon">üì¶</span>
                                    –ó–∞–∫–∞–∑—ã
                                </a>
                            </li>
                            <li class="profile__nav-item profile__nav-item--account profile__nav-item--active">
                                <a href="<?php echo esc_url(get_permalink()); ?>" class="profile__nav-link" aria-current="page">
                                    <span class="profile__nav-icon">üë§</span>
                                    –ê–Ω–∫–µ—Ç–∞
                                </a>
                            </li>
                            <li class="profile__nav-item profile__nav-item--logout">
                                <a href="<?php echo wp_logout_url(home_url()); ?>" class="profile__nav-link">
                                    <span class="profile__nav-icon">üö™</span>
                                    –í—ã–π—Ç–∏
                                </a>
                            </li>
                        </ul>
                    </nav>
                </aside>

                <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
                <div class="profile__main">
                    <div class="profile__content">
                        <?php if (isset($success_message)) : ?>
                            <div class="profile-message profile-message--success">
                                <?php echo esc_html($success_message); ?>
                            </div>
                        <?php endif; ?>
                        
                        <?php if (isset($error_message)) : ?>
                            <div class="profile-message profile-message--error">
                                <?php echo esc_html($error_message); ?>
                            </div>
                        <?php endif; ?>

                        <!-- –°–µ–∫—Ü–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                        <section class="profile-info">
                            <h2 class="profile-info__title">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>

                            <form method="post" class="profile-info__form">
                                <?php wp_nonce_field('update_profile', 'update_profile_nonce'); ?>
                                
                                <div class="profile-info__row">
                                    <div class="profile-info__field">
                                        <label class="profile-info__label">–ò–º—è</label>
                                        <div class="profile-info__input-wrapper">
                                            <input type="text" 
                                                   name="first_name" 
                                                   class="profile-info__input" 
                                                   value="<?php echo esc_attr($current_user->first_name); ?>"
                                                   required>
                                        </div>
                                    </div>

                                    <div class="profile-info__field">
                                        <label class="profile-info__label">–§–∞–º–∏–ª–∏—è</label>
                                        <div class="profile-info__input-wrapper">
                                            <input type="text" 
                                                   name="last_name" 
                                                   class="profile-info__input" 
                                                   value="<?php echo esc_attr($current_user->last_name); ?>"
                                                   required>
                                        </div>
                                    </div>
                                </div>

                                <div class="profile-info__field">
                                    <label class="profile-info__label">–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è</label>
                                    <div class="profile-info__input-wrapper">
                                        <input type="text" 
                                               name="display_name" 
                                               class="profile-info__input" 
                                               value="<?php echo esc_attr($current_user->display_name); ?>"
                                               required>
                                    </div>
                                </div>

                                <div class="profile-info__field">
                                    <label class="profile-info__label">Email</label>
                                    <div class="profile-info__input-wrapper">
                                        <input type="email" 
                                               name="email" 
                                               class="profile-info__input" 
                                               value="<?php echo esc_attr($current_user->user_email); ?>"
                                               required>
                                    </div>
                                </div>

                                <div class="profile-info__field">
                                    <label class="profile-info__label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                                    <div class="profile-info__input-wrapper">
                                        <input type="tel" 
                                               name="phone" 
                                               class="profile-info__input" 
                                               value="<?php echo esc_attr($user_phone); ?>">
                                    </div>
                                </div>
                            </form>
                        </section>

                        <!-- –°–µ–∫—Ü–∏—è —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è -->
                        <section class="profile-password">
                            <h2 class="profile-password__title">–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è</h2>

                            <form method="post" class="profile-password__form">
                                <?php wp_nonce_field('change_password', 'change_password_nonce'); ?>
                                
                                <div class="profile-password__field">
                                    <label class="profile-password__label">–î–µ–π—Å—Ç–≤—É—é—â–∏–π –ø–∞—Ä–æ–ª—å</label>
                                    <div class="profile-password__input-wrapper">
                                        <input type="password" 
                                               name="current_password" 
                                               class="profile-password__input" 
                                               placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å"
                                               required>
                                    </div>
                                </div>

                                <div class="profile-password__field">
                                    <label class="profile-password__label">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                                    <div class="profile-password__input-wrapper">
                                        <input type="password" 
                                               name="new_password" 
                                               class="profile-password__input" 
                                               placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å"
                                               minlength="6"
                                               required>
                                    </div>
                                </div>

                                <div class="profile-password__field">
                                    <label class="profile-password__label">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                                    <div class="profile-password__input-wrapper">
                                        <input type="password" 
                                               name="confirm_password" 
                                               class="profile-password__input" 
                                               placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å"
                                               minlength="6"
                                               required>
                                    </div>
                                </div>
                            </form>
                        </section>

                        <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è -->
                        <div class="profile__actions">
                            <button type="submit" 
                                    form="profile-info__form" 
                                    class="profile__save-button button button--black">
                                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                            </button>
                            
                            <button type="submit" 
                                    form="profile-password__form" 
                                    class="profile__save-button button button--transparent">
                                –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

<?php get_footer(); ?>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
page-profile.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
/**
 * Template Name: –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
 * Template Post Type: page
 */

if (!defined('ABSPATH')) {
    exit;
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
if (!is_user_logged_in()) {
    wp_redirect(wp_login_url(get_permalink()));
    exit;
}

$current_user = wp_get_current_user();

get_header(); ?>

<div class="wrapper">
    <header class="header">
        <div class="header__container">
            <a href="<?php echo home_url(); ?>" class="header__logo logo">
                <?php bloginfo('name'); ?>
            </a>
            
            <div class="header__menu menu">
                <button type="button" class="menu__icon icon-menu">
                    <span></span>
                </button>
                
                <nav class="menu__body">
                    <?php
                    wp_nav_menu(array(
                        'theme_location' => 'primary',
                        'container' => false,
                        'menu_class' => 'menu__list',
                        'walker' => new Custom_Walker_Nav_Menu()
                    ));
                    ?>
                </nav>
            </div>
        </div>
    </header>

    <main class="page">
        <section class="section__title">
            <h1 class="title">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
        </section>

        <section class="profile">
            <div class="profile__container">
                <!-- –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
                <aside class="profile__sidebar">
                    <div class="profile__avatar">
                        <?php
                        $avatar = get_avatar($current_user->ID, 80, '', '', array('class' => 'profile__avatar-image'));
                        if ($avatar) {
                            echo $avatar;
                        } else {
                            echo '<img src="' . get_template_directory_uri() . '/img/profile/avatar.jpg" alt="–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" class="profile__avatar-image">';
                        }
                        ?>
                        <p class="profile__avatar-name">
                            <?php 
                            $display_name = $current_user->display_name ?: $current_user->user_login;
                            echo esc_html($display_name);
                            ?>
                        </p>
                    </div>
                    
                    <nav class="profile__navigation" aria-label="–°—Ç—Ä–∞–Ω–∏—Ü—ã –∞–∫–∫–∞—É–Ω—Ç–∞">
                        <ul class="profile__nav-list">
                            <li class="profile__nav-item profile__nav-item--orders <?php echo (is_page('profile') || !isset($_GET['tab'])) ? 'profile__nav-item--active' : ''; ?>">
                                <a href="<?php echo esc_url(get_permalink()); ?>" class="profile__nav-link" aria-current="page">
                                    <span class="profile__nav-icon">üì¶</span>
                                    –ó–∞–∫–∞–∑—ã
                                </a>
                            </li>
                            <li class="profile__nav-item profile__nav-item--account <?php echo (isset($_GET['tab']) && $_GET['tab'] === 'account') ? 'profile__nav-item--active' : ''; ?>">
                                <a href="<?php echo esc_url(add_query_arg('tab', 'account', get_permalink())); ?>" class="profile__nav-link">
                                    <span class="profile__nav-icon">üë§</span>
                                    –ê–Ω–∫–µ—Ç–∞
                                </a>
                            </li>
                            <li class="profile__nav-item profile__nav-item--favorites <?php echo (isset($_GET['tab']) && $_GET['tab'] === 'favorites') ? 'profile__nav-item--active' : ''; ?>">
                                <a href="<?php echo esc_url(add_query_arg('tab', 'favorites', get_permalink())); ?>" class="profile__nav-link">
                                    <span class="profile__nav-icon">‚ù§Ô∏è</span>
                                    –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
                                </a>
                            </li>
                            <li class="profile__nav-item profile__nav-item--logout">
                                <a href="<?php echo wp_logout_url(home_url()); ?>" class="profile__nav-link">
                                    <span class="profile__nav-icon">üö™</span>
                                    –í—ã–π—Ç–∏
                                </a>
                            </li>
                        </ul>
                    </nav>
                </aside>

                <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
                <div class="profile__main">
                    <?php
                    $current_tab = isset($_GET['tab']) ? $_GET['tab'] : 'orders';
                    
                    switch ($current_tab) {
                        case 'account':
                            include 'profile-account.php';
                            break;
                            
                        case 'favorites':
                            include 'profile-favorites.php';
                            break;
                            
                        default:
                            include 'profile-orders.php';
                            break;
                    }
                    ?>
                </div>
            </div>
        </section>
    </main>

<?php get_footer(); ?>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
password-reset.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
/**
 * Template Name: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
 */

if (!defined('ABSPATH')) {
    exit;
}

// –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
if (is_user_logged_in()) {
    wp_redirect(home_url());
    exit;
}

get_header(); ?>

<main class="page">
    <div class="page__container">
        <div class="back__container">
            <a href="javascript:history.back()" class="back__button">
                <img src="<?php echo get_template_directory_uri(); ?>/assets/img/icon/arrow-black.svg" alt="–ù–∞–∑–∞–¥" />
                –ù–∞–∑–∞–¥
            </a>
        </div>

        <div class="auth-page">
            <div class="auth-page__container">
                <div class="auth-page__content">
                    <h1 class="auth-page__title">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</h1>
                    
                    <?php
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è WordPress –µ—Å–ª–∏ –µ—Å—Ç—å
                    if (isset($_GET['checkemail']) && $_GET['checkemail'] == 'confirm') {
                        echo '<div class="auth-message success">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à—É –ø–æ—á—Ç—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Å—ã–ª–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è.</div>';
                    }
                    
                    if (isset($_GET['error'])) {
                        $errors = array(
                            'invalid_email' => '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email –Ω–µ –Ω–∞–π–¥–µ–Ω',
                            'empty_email' => '–í–≤–µ–¥–∏—Ç–µ email –∞–¥—Ä–µ—Å'
                        );
                        if (isset($errors[$_GET['error']])) {
                            echo '<div class="auth-message error">' . $errors[$_GET['error']] . '</div>';
                        }
                    }
                    ?>

                    <!-- –§–æ—Ä–º–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è -->
                    <form class="auth-form" id="password-reset-form" method="post">
                        <div class="auth-form__group">
                            <label for="user_email" class="auth-form__label">Email –∞–¥—Ä–µ—Å *</label>
                            <input type="email" id="user_email" name="user_email" class="auth-form__input" required>
                            <small style="color: #666; font-size: 12px; margin-top: 5px; display: block;">
                                –ù–∞ —ç—Ç–æ—Ç email –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
                            </small>
                        </div>
                        
                        <input type="hidden" name="action" value="password_reset_request">
                        <?php wp_nonce_field('password_reset_nonce', 'password_reset_nonce'); ?>
                        
                        <button type="submit" class="auth-form__button button-black" id="reset-submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É</button>
                    </form>
                    
                    <div class="auth-page__footer">
                        <p>–í—Å–ø–æ–º–Ω–∏–ª–∏ –ø–∞—Ä–æ–ª—å? <a href="<?php echo get_permalink(get_page_by_path('login')); ?>" class="auth-page__link">–í–æ–π—Ç–∏</a></p>
                        <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="<?php echo get_permalink(get_page_by_path('register')); ?>" class="auth-page__link">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const resetForm = document.getElementById('password-reset-form');
    const resetSubmit = document.getElementById('reset-submit');
    
    if (resetForm) {
        resetForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä
            resetSubmit.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
            resetSubmit.disabled = true;
            
            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
            const formData = new FormData(resetForm);
            
            // AJAX –∑–∞–ø—Ä–æ—Å
            fetch('<?php echo admin_url('admin-ajax.php'); ?>', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network error: ' + response.status);
                }
                return response.json();
            })
            .then(data => {
                console.log('Password reset response:', data);
                
                if (data.success) {
                    // –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
                    window.flsNotifications.success(
                        data.data.message || '–°—Å—ã–ª–∫–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –≤–∞—à email',
                        '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç—É'
                    );
                    
                    // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
                    resetForm.reset();
                    
                    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                    setTimeout(() => {
                        window.location.href = '<?php echo get_permalink(get_page_by_path('login')); ?>';
                    }, 3000);
                    
                } else {
                    // –û—à–∏–±–∫–∞
                    window.flsNotifications.error(
                        data.data.message || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞',
                        '–û—à–∏–±–∫–∞'
                    );
                }
                
                resetSubmit.textContent = '–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É';
                resetSubmit.disabled = false;
            })
            .catch(error => {
                console.error('Error:', error);
                window.flsNotifications.error(
                    '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.',
                    '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏'
                );
                
                resetSubmit.textContent = '–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É';
                resetSubmit.disabled = false;
            });
        });
    }
});
</script>

<?php get_footer(); ?>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
profile-account.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
if (isset($_POST['update_profile_nonce']) && wp_verify_nonce($_POST['update_profile_nonce'], 'update_profile')) {
    $user_id = get_current_user_id();
    $first_name = sanitize_text_field($_POST['first_name']);
    $last_name = sanitize_text_field($_POST['last_name']);
    $display_name = sanitize_text_field($_POST['display_name']);
    $email = sanitize_email($_POST['email']);
    $phone = sanitize_text_field($_POST['phone']);
    
    $userdata = array(
        'ID' => $user_id,
        'first_name' => $first_name,
        'last_name' => $last_name,
        'display_name' => $display_name,
        'user_email' => $email
    );
    
    $result = wp_update_user($userdata);
    
    if (!is_wp_error($result)) {
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–ª–µ—Ñ–æ–Ω
        update_user_meta($user_id, 'billing_phone', $phone);
        
        echo '<div class="profile-message profile-message--success">–ü—Ä–æ—Ñ–∏–ª—å —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω</div>';
    } else {
        echo '<div class="profile-message profile-message--error">–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è</div>';
    }
}

$current_user = wp_get_current_user();
$user_phone = get_user_meta($current_user->ID, 'billing_phone', true);
?>

<div class="profile-account">
    <div class="profile-account__header">
        <h2 class="profile-account__title">–ê–Ω–∫–µ—Ç–∞</h2>
    </div>

    <form method="post" class="profile-account__form">
        <?php wp_nonce_field('update_profile', 'update_profile_nonce'); ?>
        
        <div class="profile-account__fields">
            <div class="profile-account__field">
                <label for="first_name" class="profile-account__label">–ò–º—è</label>
                <input type="text" 
                       id="first_name" 
                       name="first_name" 
                       value="<?php echo esc_attr($current_user->first_name); ?>" 
                       class="profile-account__input" 
                       required>
            </div>
            
            <div class="profile-account__field">
                <label for="last_name" class="profile-account__label">–§–∞–º–∏–ª–∏—è</label>
                <input type="text" 
                       id="last_name" 
                       name="last_name" 
                       value="<?php echo esc_attr($current_user->last_name); ?>" 
                       class="profile-account__input" 
                       required>
            </div>
            
            <div class="profile-account__field">
                <label for="display_name" class="profile-account__label">–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è</label>
                <input type="text" 
                       id="display_name" 
                       name="display_name" 
                       value="<?php echo esc_attr($current_user->display_name); ?>" 
                       class="profile-account__input" 
                       required>
            </div>
            
            <div class="profile-account__field">
                <label for="email" class="profile-account__label">Email</label>
                <input type="email" 
                       id="email" 
                       name="email" 
                       value="<?php echo esc_attr($current_user->user_email); ?>" 
                       class="profile-account__input" 
                       required>
            </div>
            
            <div class="profile-account__field">
                <label for="phone" class="profile-account__label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                <input type="tel" 
                       id="phone" 
                       name="phone" 
                       value="<?php echo esc_attr($user_phone); ?>" 
                       class="profile-account__input">
            </div>
        </div>
        
        <button type="submit" class="profile-account__submit button-black">
            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
        </button>
    </form>
</div>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
profile-favorites.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
$favorites = get_user_favorites();
?>

<div class="profile-favorites">
    <div class="profile-favorites__header">
        <h2 class="profile-favorites__title">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h2>
    </div>

    <div class="profile-favorites__content">
        <?php if (!empty($favorites)) : ?>
            <div class="profile-favorites__products products">
                <?php foreach ($favorites as $product_id) : 
                    $product = wc_get_product($product_id);
                    if ($product && $product->is_visible()) : ?>
                        <div class="card">
                            <?php if ($product->is_on_sale()) : 
                                $regular_price = $product->get_regular_price();
                                $sale_price = $product->get_sale_price();
                                $discount = round((($regular_price - $sale_price) / $regular_price) * 100);
                            ?>
                                <span class="card__discount">-<?php echo $discount; ?>%</span>
                            <?php endif; ?>
                            
                            <span class="card__favourite active" data-product-id="<?php echo $product_id; ?>">
                                <svg width="18" height="15" viewBox="0 0 18 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12.87 0C11.34 0 9.99 0.606935 9 1.73411C8.01 0.606935 6.66 0 5.13 0C2.34 0 0 2.25434 0 4.94218C0 5.11559 0 5.289 0 5.46241C0.36 9.53759 4.86 12.9191 7.47 14.5665C7.92 14.8266 8.46 15 9 15C9.54 15 10.08 14.8266 10.53 14.5665C13.14 12.9191 17.64 9.53759 18 5.54912C18 5.37571 18 5.20229 18 5.02888C18 2.25434 15.66 0 12.87 0ZM16.2 5.289C15.93 8.75724 11.43 11.8786 9.54 13.0058C9.18 13.1792 8.82 13.1792 8.46 13.0058C6.57 11.7919 2.16 8.67053 1.8 5.20229C1.8 5.20229 1.8 5.02888 1.8 4.94218C1.8 3.20812 3.33 1.73411 5.13 1.73411C6.48 1.73411 7.65 2.51445 8.19 3.64165C8.28 3.98841 8.64 4.16182 9 4.16182C9.36 4.16182 9.72 3.98841 9.81 3.64165C10.35 2.51445 11.52 1.73411 12.87 1.73411C14.67 1.73411 16.2 3.20812 16.2 4.94218C16.2 5.02888 16.2 5.20229 16.2 5.289Z" fill="#191919" />
                                    <path d="M12.87 0C11.34 0 9.99 0.606935 9 1.73411C8.01 0.606935 6.66 0 5.13 0C2.34 0 0 2.25434 0 4.94218C0 5.11559 0 5.289 0 5.46241C0.36 9.53759 4.86 12.9191 7.47 14.5665C7.92 14.8266 8.46 15 9 15C9.54 15 10.08 14.8266 10.53 14.5665C13.14 12.9191 17.64 9.53759 18 5.54912C18 5.37571 18 5.20229 18 5.02888C18 2.25433 15.66 0 12.87 0Z" fill="#F80F4E" />
                                </svg>
                            </span>
                            
                            <a href="<?php echo get_permalink($product_id); ?>" class="card__image-ibg">
                                <?php echo $product->get_image('full'); ?>
                            </a>
                            
                            <div class="card__conten">
                                <p class="card__article">–ê—Ä—Ç <?php echo $product->get_sku() ?: $product_id; ?></p>
                                
                                <?php
                                $brands = wp_get_post_terms($product_id, 'product_brand');
                                if ($brands && !is_wp_error($brands)) {
                                    echo '<a href="' . get_term_link($brands[0]) . '" class="card__attribute">' . $brands[0]->name . '</a>';
                                }
                                ?>
                                
                                <a href="<?php echo get_permalink($product_id); ?>" class="card__title">
                                    <?php echo $product->get_name(); ?>
                                </a>
                                
                                <div class="card__prices">
                                    <?php if ($product->is_on_sale()) : ?>
                                        <div class="card__price card__new-price"><?php echo $product->get_sale_price(); ?> ‚ÇΩ</div>
                                        <div class="card__price card__old-price"><?php echo $product->get_regular_price(); ?> ‚ÇΩ</div>
                                    <?php else : ?>
                                        <div class="card__price card__new-price"><?php echo $product->get_price(); ?> ‚ÇΩ</div>
                                    <?php endif; ?>
                                </div>
                                
                                <?php if ($product->is_in_stock()) : ?>
                                    <button class="card__button button-black add_to_cart_button" 
                                            data-product_id="<?php echo $product_id; ?>" 
                                            data-product_sku="<?php echo $product->get_sku(); ?>">
                                        –í –∫–æ—Ä–∑–∏–Ω—É
                                    </button>
                                <?php else : ?>
                                    <div class="card__button button-black disabled">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</div>
                                <?php endif; ?>
                            </div>
                        </div>
                    <?php endif; ?>
                <?php endforeach; ?>
            </div>
        <?php else : ?>
            <div class="profile-favorites__empty">
                <p>–í –∏–∑–±—Ä–∞–Ω–Ω–æ–º –ø–æ–∫–∞ –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤</p>
                <a href="<?php echo esc_url(wc_get_page_permalink('shop')); ?>" class="button button-black">
                    –ü–µ—Ä–µ–π—Ç–∏ –≤ –º–∞–≥–∞–∑–∏–Ω
                </a>
            </div>
        <?php endif; ?>
    </div>
</div>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
profile-orders.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
// –ü–æ–ª—É—á–∞–µ–º –∑–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
$customer_orders = wc_get_orders(array(
    'customer' => get_current_user_id(),
    'limit' => 10,
    'orderby' => 'date',
    'order' => 'DESC'
));
?>

<div class="profile-orders">
    <div class="profile-orders__header">
        <h2 class="profile-orders__title">–ó–∞–∫–∞–∑—ã</h2>
    </div>

    <div class="profile-orders__list">
        <?php if (!empty($customer_orders)) : ?>
            <?php foreach ($customer_orders as $order) : 
                $order_id = $order->get_id();
                $order_date = $order->get_date_created();
                $order_total = $order->get_total();
                $order_status = $order->get_status();
                $order_items = $order->get_items();
                
                // –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
                $status_labels = array(
                    'pending'    => '–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã',
                    'processing' => '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ',
                    'on-hold'    => '–ù–∞ —É–¥–µ—Ä–∂–∞–Ω–∏–∏',
                    'completed'  => '–ó–∞–≤–µ—Ä—à–µ–Ω',
                    'cancelled'  => '–û—Ç–º–µ–Ω–µ–Ω',
                    'refunded'   => '–í–æ–∑–≤—Ä–∞—â–µ–Ω',
                    'failed'     => '–ù–µ—É–¥–∞—á–Ω—ã–π'
                );
                
                $status_label = isset($status_labels[$order_status]) ? $status_labels[$order_status] : $order_status;
                
                // –ò–∫–æ–Ω–∫–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞
                $status_icon = 'delivery-process.svg';
                $status_class = '';
                
                switch ($order_status) {
                    case 'completed':
                        $status_icon = 'delivery-check.svg';
                        $status_class = 'order-card__icon-bg--success';
                        break;
                    case 'processing':
                        $status_icon = 'delivery-truck.svg';
                        $status_class = 'order-card__icon-bg--primary';
                        break;
                    case 'pending':
                        $status_icon = 'delivery-process.svg';
                        $status_class = 'order-card__icon-bg--warning';
                        break;
                    default:
                        $status_icon = 'delivery-process.svg';
                        $status_class = 'order-card__icon-bg--secondary';
                }
                ?>
                
                <div class="profile-orders__item order-card">
                    <div class="order-card__content">
                        <div class="order-card__info">
                            <div class="order-card__date">
                                –û—Ç <?php echo $order_date->format('d F Y'); ?> ‚Ä¢ #<?php echo $order_id; ?>
                            </div>
                            <h3 class="order-card__status"><?php echo esc_html($status_label); ?></h3>
                            <div class="order-card__delivery">
                                <?php
                                // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ
                                $shipping_method = $order->get_shipping_method();
                                if ($shipping_method) {
                                    echo esc_html($shipping_method);
                                } else {
                                    echo '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ';
                                }
                                ?>
                            </div>
                        </div>

                        <div class="order-card__price">
                            <div class="order-card__amount"><?php echo wc_price($order_total); ?></div>
                            <div class="order-card__icon">
                                <div class="order-card__icon-bg order-card__icon-bg--primary <?php echo $status_class; ?>"></div>
                                <div class="order-card__icon-bg order-card__icon-bg--secondary"></div>
                                <img class="order-card__icon-image" 
                                     src="<?php echo get_template_directory_uri(); ?>/img/icon/<?php echo $status_icon; ?>" 
                                     alt="–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞" />
                            </div>
                        </div>
                    </div>
                    
                    <div class="order-card__actions">
                        <a href="<?php echo esc_url($order->get_view_order_url()); ?>" 
                           class="order-card__action order-card__action--view">
                            –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                        </a>
                        
                        <?php if ($order_status === 'completed') : ?>
                            <a href="<?php echo esc_url(wc_get_endpoint_url('view-order', $order_id, wc_get_page_permalink('myaccount'))); ?>" 
                               class="order-card__action order-card__action--repeat">
                                –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–∫–∞–∑
                            </a>
                        <?php else : ?>
                            <a href="<?php echo esc_url($order->get_view_order_url()); ?>" 
                               class="order-card__action order-card__action--track">
                                –û—Ç—Å–ª–µ–¥–∏—Ç—å
                            </a>
                        <?php endif; ?>
                    </div>
                </div>
            <?php endforeach; ?>
        <?php else : ?>
            <div class="profile-orders__empty">
                <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</p>
                <a href="<?php echo esc_url(wc_get_page_permalink('shop')); ?>" class="button button-black">
                    –ù–∞—á–∞—Ç—å –ø–æ–∫—É–ø–∫–∏
                </a>
            </div>
        <?php endif; ?>
    </div>
</div>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
register.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
/**
 * Template Name: –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
 */

if (!defined('ABSPATH')) {
    exit;
}

// –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
if (is_user_logged_in()) {
    wp_redirect(home_url());
    exit;
}

get_header(); ?>

<main class="page">
    <div class="page__container">
        <div class="back__container">
            <a href="javascript:history.back()" class="back__button">
                <img src="<?php echo get_template_directory_uri(); ?>/assets/img/icon/arrow-black.svg" alt="–ù–∞–∑–∞–¥" />
                –ù–∞–∑–∞–¥
            </a>
        </div>

        <div class="auth-page">
            <div class="auth-page__container">
                <div class="auth-page__content">
                    <h1 class="auth-page__title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
                    
                    <?php
                    // –í—ã–≤–æ–¥ –æ—à–∏–±–æ–∫ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
                    if (isset($_GET['registration']) && $_GET['registration'] == 'success') {
                        echo '<div class="auth-message success">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏.</div>';
                    }
                    
                    if (isset($_GET['error'])) {
                        $errors = array(
                            'empty_fields' => '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è',
                            'password_mismatch' => '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç',
                            'email_exists' => 'Email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω',
                            'invalid_email' => '–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email',
                            'weak_password' => '–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º —Å–ª–∞–±—ã–π',
                            'username_exists' => '–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–∂–µ –∑–∞–Ω—è—Ç–æ'
                        );
                        if (isset($errors[$_GET['error']])) {
                            echo '<div class="auth-message error">' . $errors[$_GET['error']] . '</div>';
                        }
                    }
                    ?>

                    <form class="auth-form" id="register-form" method="post">
                        <div class="auth-form__group">
                            <label for="reg_username" class="auth-form__label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è *</label>
                            <input type="text" id="reg_username" name="username" class="auth-form__input" required>
                            <small style="color: #666; font-size: 12px; margin-top: 5px; display: block;">
                                –ï—Å–ª–∏ –∏–º—è –∑–∞–Ω—è—Ç–æ, —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
                            </small>
                        </div>
                        
                        <div class="auth-form__group">
                            <label for="reg_email" class="auth-form__label">Email *</label>
                            <input type="email" id="reg_email" name="email" class="auth-form__input" required>
                        </div>
                        
                        <div class="auth-form__group">
                            <label for="reg_password" class="auth-form__label">–ü–∞—Ä–æ–ª—å *</label>
                            <input type="password" id="reg_password" name="password" class="auth-form__input" required>
                        </div>
                        
                        <div class="auth-form__group">
                            <label for="reg_password2" class="auth-form__label">–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å *</label>
                            <input type="password" id="reg_password2" name="password2" class="auth-form__input" required>
                        </div>
                        
                        <div class="auth-form__group">
                            <label class="auth-form__checkbox">
                                <input type="checkbox" name="agree_terms" required>
                                <span>–Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å <a href="<?php echo get_permalink(get_page_by_path('terms')); ?>" target="_blank">–ø—Ä–∞–≤–∏–ª–∞–º–∏ —Å–∞–π—Ç–∞</a></span>
                            </label>
                        </div>
                        
                        <input type="hidden" name="action" value="custom_registration">
                        <input type="hidden" name="redirect_to" value="<?php 
                            echo isset($_GET['redirect_to']) ? esc_url($_GET['redirect_to']) : home_url();
                        ?>">
                        <?php wp_nonce_field('custom_registration_nonce', 'registration_nonce'); ?>
                        
                        <button type="submit" class="auth-form__button button-black" id="register-submit">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                        
                        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π AJAX -->
                        <div class="auth-form__message" id="register-message" style="display: none;"></div>
                    </form>
                    
                    <div class="auth-page__footer">
                        <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="<?php echo get_permalink(get_page_by_path('login')); ?>" class="auth-page__link">–í–æ–π—Ç–∏</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const registerForm = document.getElementById('register-form');
    const registerSubmit = document.getElementById('register-submit');
    
    if (registerForm) {
        registerForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä
            registerSubmit.textContent = '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è...';
            registerSubmit.disabled = true;
            
            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
            const formData = new FormData(registerForm);
            
            console.log('Sending registration request...');
            
            // AJAX –∑–∞–ø—Ä–æ—Å
            fetch('<?php echo admin_url('admin-ajax.php'); ?>', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                console.log('Response status:', response.status);
                if (!response.ok) {
                    throw new Error('Network error: ' + response.status);
                }
                return response.json();
            })
            .then(data => {
                console.log('Response data:', data);
                
                if (data.success) {
                    // –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                    if (data.data.username && data.data.username !== formData.get('username')) {
                        window.flsNotifications.success(
                            '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –í–∞—à–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ' + data.data.username + '. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ...',
                            '–£—Å–ø–µ—Ö'
                        );
                    } else {
                        window.flsNotifications.success(
                            '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ...',
                            '–£—Å–ø–µ—Ö'
                        );
                    }
                    
                    // –†–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
                    if (data.data.redirect) {
                        console.log('Redirecting to:', data.data.redirect);
                        setTimeout(() => {
                            window.location.href = data.data.redirect;
                        }, 2000);
                    } else {
                        console.log('Redirecting to home');
                        setTimeout(() => {
                            window.location.href = '<?php echo home_url(); ?>';
                        }, 2000);
                    }
                    
                } else {
                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–∞
                    let errorMessage = '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏';
                    
                    if (data.data && data.data.message) {
                        // –§–æ—Ä–º–∞—Ç: data.data.message
                        errorMessage = data.data.message;
                    } else if (data.message) {
                        // –§–æ—Ä–º–∞—Ç: data.message
                        errorMessage = data.message;
                    } else if (data.data && Array.isArray(data.data)) {
                        // –§–æ—Ä–º–∞—Ç: data.data –∫–∞–∫ –º–∞—Å—Å–∏–≤ –æ—à–∏–±–æ–∫
                        errorMessage = data.data.join(', ');
                    } else if (typeof data.data === 'string') {
                        // –§–æ—Ä–º–∞—Ç: data.data –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞
                        errorMessage = data.data;
                    }
                    
                    console.log('Error message:', errorMessage);
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
                    window.flsNotifications.error(
                        errorMessage,
                        '–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏'
                    );
                    
                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–Ω–æ–ø–∫—É –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                    registerSubmit.textContent = '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è';
                    registerSubmit.disabled = false;
                }
            })
            .catch(error => {
                console.error('Error:', error);
                window.flsNotifications.error(
                    '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.',
                    '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏'
                );
                
                registerSubmit.textContent = '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è';
                registerSubmit.disabled = false;
            });
        });
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
    const usernameInput = document.getElementById('reg_username');
    if (usernameInput) {
        let checkTimeout;
        
        usernameInput.addEventListener('input', function() {
            clearTimeout(checkTimeout);
            const username = this.value.trim();
            
            if (username.length < 3) {
                return;
            }
            
            checkTimeout = setTimeout(() => {
                fetch('<?php echo admin_url('admin-ajax.php'); ?>', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: 'action=check_username&username=' + encodeURIComponent(username)
                })
                .then(response => response.json())
                .then(data => {
                    if (!data.available) {
                        window.flsNotifications.warning(
                            '–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è "' + username + '" —É–∂–µ –∑–∞–Ω—è—Ç–æ. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.',
                            '–ò–º—è –∑–∞–Ω—è—Ç–æ'
                        );
                    }
                });
            }, 500);
        });
    }
});
</script>

<?php get_footer(); ?>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
scanner.js
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
const fs = require('fs');
const path = require('path');

class FileScanner {
    constructor(outputFile = 'scan_results.txt') {
        this.outputFile = outputFile;
        this.results = [];
    }

    scanDirectory(dirPath) {
        try {
            const items = fs.readdirSync(dirPath);
            
            for (const item of items) {
                const fullPath = path.join(dirPath, item);
                const stat = fs.statSync(fullPath);
                
                if (stat.isDirectory()) {
                    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–ø–∫–∏
                    if (!['node_modules', '.git'].includes(item)) {
                        this.scanDirectory(fullPath);
                    }
                } else if (stat.isFile()) {
                    this.processFile(fullPath);
                }
            }
        } catch (error) {
            console.error(`–û—à–∏–±–∫–∞: ${dirPath}`);
        }
    }

    processFile(filePath) {
        try {
            console.log(`–°–∫–∞–Ω–∏—Ä—É—é: ${filePath}`);
            const content = fs.readFileSync(filePath, 'utf8');
            
            this.results.push({
                path: filePath,
                content: content
            });
            
        } catch (error) {
            this.results.push({
                path: filePath,
                content: `[–û–®–ò–ë–ö–ê –ß–¢–ï–ù–ò–Ø: ${error.message}]`
            });
        }
    }

    writeResults() {
        let outputContent = '';
        
        for (const result of this.results) {
            outputContent += `–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞\n${result.path}\n`;
            outputContent += `—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞\n${result.content}\n`;
            outputContent += '\n' + '='.repeat(50) + '\n\n';
        }
        
        fs.writeFileSync(this.outputFile, outputContent, 'utf8');
        console.log(`‚úÖ –ì–æ—Ç–æ–≤–æ! –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ñ–∞–π–ª–µ: ${this.outputFile}`);
    }

    scan(startPath) {
        console.log(`–ù–∞—á–∏–Ω–∞—é —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: ${startPath}`);
        
        if (!fs.existsSync(startPath)) {
            console.error(`‚ùå –ü—É—Ç—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: ${startPath}`);
            return;
        }
        
        const stat = fs.statSync(startPath);
        
        if (stat.isDirectory()) {
            this.scanDirectory(startPath);
        } else if (stat.isFile()) {
            this.processFile(startPath);
        }
        
        this.writeResults();
    }
}

// –ó–∞–ø—É—Å–∫
const scanner = new FileScanner('—Ä–µ–∑—É–ª—å—Ç–∞—Ç.txt');
const scanPath = process.argv[2] || '.';
scanner.scan(scanPath);


==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
—Ä–µ–∑—É–ª—å—Ç–∞—Ç.txt
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
login.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
/**
 * Template Name: –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
 */

if (!defined('ABSPATH')) {
    exit;
}

// –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
if (is_user_logged_in()) {
    wp_redirect(home_url());
    exit;
}

get_header(); ?>

<main class="page">
    <div class="page__container">
        <div class="back__container">
            <a href="javascript:history.back()" class="back__button">
                <img src="<?php echo get_template_directory_uri(); ?>/assets/img/icon/arrow-black.svg" alt="–ù–∞–∑–∞–¥" />
                –ù–∞–∑–∞–¥
            </a>
        </div>

        <div class="auth-page">
            <div class="auth-page__container">
                <div class="auth-page__content">
                    <h1 class="auth-page__title">–í—Ö–æ–¥ –≤ –∞–∫–∫–∞—É–Ω—Ç</h1>
                    
                    <?php
                    // –í—ã–≤–æ–¥ –æ—à–∏–±–æ–∫
                    if (isset($_GET['login']) && $_GET['login'] == 'failed') {
                        echo '<div class="auth-message error">–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å</div>';
                    }
                    
                    if (isset($_GET['checkemail']) && $_GET['checkemail'] == 'confirm') {
                        echo '<div class="auth-message success">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à—É –ø–æ—á—Ç—É –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è</div>';
                    }
                    ?>

                    <form class="auth-form" method="post" action="<?php echo wp_login_url(); ?>">
                        <div class="auth-form__group">
                            <label for="login_username" class="auth-form__label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–ª–∏ Email *</label>
                            <input type="text" id="login_username" name="log" class="auth-form__input" required>
                        </div>
                        
                        <div class="auth-form__group">
                            <label for="login_password" class="auth-form__label">–ü–∞—Ä–æ–ª—å *</label>
                            <input type="password" id="login_password" name="pwd" class="auth-form__input" required>
                        </div>
                        
                        <div class="auth-form__group auth-form__group--row">
                            <label class="auth-form__checkbox">
                                <input type="checkbox" name="rememberme">
                                <span>–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è</span>
                            </label>
                            
                            <a href="<?php echo get_permalink(get_page_by_path('password-reset')); ?>" class="auth-form__forgot">–ó–∞–±—ã–ª–∏ –ø–∞—Ä–æ–ª—å?</a>
                        </div>
                        
                        <input type="hidden" name="redirect_to" value="<?php echo home_url(); ?>">
                        
                        <button type="submit" class="auth-form__button button-black">–í–æ–π—Ç–∏</button>
                    </form>
                    
                    <div class="auth-page__footer">
                        <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="<?php echo get_permalink(get_page_by_path('register')); ?>" class="auth-page__link">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<?php get_footer(); ?>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
page-profile-account.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
/**
 * Template Name: –ê–Ω–∫–µ—Ç–∞ –ø—Ä–æ—Ñ–∏–ª—è
 * Template Post Type: page
 */

if (!defined('ABSPATH')) {
    exit;
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
if (!is_user_logged_in()) {
    wp_redirect(wp_login_url(get_permalink()));
    exit;
}

$current_user = wp_get_current_user();

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
if (isset($_POST['update_profile_nonce']) && wp_verify_nonce($_POST['update_profile_nonce'], 'update_profile')) {
    $user_id = get_current_user_id();
    $first_name = sanitize_text_field($_POST['first_name']);
    $last_name = sanitize_text_field($_POST['last_name']);
    $display_name = sanitize_text_field($_POST['display_name']);
    $email = sanitize_email($_POST['email']);
    $phone = sanitize_text_field($_POST['phone']);
    
    $userdata = array(
        'ID' => $user_id,
        'first_name' => $first_name,
        'last_name' => $last_name,
        'display_name' => $display_name,
        'user_email' => $email
    );
    
    $result = wp_update_user($userdata);
    
    if (!is_wp_error($result)) {
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–ª–µ—Ñ–æ–Ω –∏ –¥—Ä—É–≥–∏–µ –º–µ—Ç–∞-–¥–∞–Ω–Ω—ã–µ
        update_user_meta($user_id, 'billing_phone', $phone);
        update_user_meta($user_id, 'billing_first_name', $first_name);
        update_user_meta($user_id, 'billing_last_name', $last_name);
        
        $success_message = '–ü—Ä–æ—Ñ–∏–ª—å —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω';
    } else {
        $error_message = '–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è: ' . $result->get_error_message();
    }
}

// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è
if (isset($_POST['change_password_nonce']) && wp_verify_nonce($_POST['change_password_nonce'], 'change_password')) {
    $user_id = get_current_user_id();
    $current_password = $_POST['current_password'];
    $new_password = $_POST['new_password'];
    $confirm_password = $_POST['confirm_password'];
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å
    $user = get_user_by('id', $user_id);
    if ($user && wp_check_password($current_password, $user->data->user_pass, $user_id)) {
        if ($new_password === $confirm_password) {
            if (strlen($new_password) >= 6) {
                wp_set_password($new_password, $user_id);
                $success_message = '–ü–∞—Ä–æ–ª—å —É—Å–ø–µ—à–Ω–æ –∏–∑–º–µ–Ω–µ–Ω';
                
                // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏–Ω–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ—Å–ª–µ —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è
                wp_set_current_user($user_id);
                wp_set_auth_cookie($user_id);
            } else {
                $error_message = '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤';
            }
        } else {
            $error_message = '–ù–æ–≤—ã–µ –ø–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç';
        }
    } else {
        $error_message = '–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å —É–∫–∞–∑–∞–Ω –Ω–µ–≤–µ—Ä–Ω–æ';
    }
}

$user_phone = get_user_meta($current_user->ID, 'billing_phone', true);

get_header(); ?>

<div class="wrapper">
    <header class="header">
        <div class="header__container">
            <a href="<?php echo home_url(); ?>" class="header__logo logo">
                <?php bloginfo('name'); ?>
            </a>
            
            <div class="header__menu menu">
                <button type="button" class="menu__icon icon-menu">
                    <span></span>
                </button>
                
                <nav class="menu__body">
                    <?php
                    wp_nav_menu(array(
                        'theme_location' => 'primary',
                        'container' => false,
                        'menu_class' => 'menu__list',
                        'walker' => new Custom_Walker_Nav_Menu()
                    ));
                    ?>
                </nav>
            </div>
        </div>
    </header>

    <main class="page">
        <section class="section__title">
            <h1 class="title">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
        </section>

        <section class="profile">
            <div class="profile__container">
                <!-- –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
                <aside class="profile__sidebar">
                    <div class="profile__avatar">
                        <?php
                        $avatar = get_avatar($current_user->ID, 80, '', '', array('class' => 'profile__avatar-image'));
                        if ($avatar) {
                            echo $avatar;
                        } else {
                            echo '<img src="' . get_template_directory_uri() . '/img/profile/avatar.jpg" alt="–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" class="profile__avatar-image">';
                        }
                        ?>
                        <p class="profile__avatar-name">
                            <?php 
                            $display_name = $current_user->display_name ?: $current_user->user_login;
                            echo esc_html($display_name);
                            ?>
                        </p>
                    </div>
                    
                    <nav class="profile__navigation" aria-label="–°—Ç—Ä–∞–Ω–∏—Ü—ã –∞–∫–∫–∞—É–Ω—Ç–∞">
                        <ul class="profile__nav-list">
                            <li class="profile__nav-item profile__nav-item--orders">
                                <a href="<?php echo wc_get_account_endpoint_url('orders'); ?>" class="profile__nav-link">
                                    <span class="profile__nav-icon">üì¶</span>
                                    –ó–∞–∫–∞–∑—ã
                                </a>
                            </li>
                            <li class="profile__nav-item profile__nav-item--account profile__nav-item--active">
                                <a href="<?php echo esc_url(get_permalink()); ?>" class="profile__nav-link" aria-current="page">
                                    <span class="profile__nav-icon">üë§</span>
                                    –ê–Ω–∫–µ—Ç–∞
                                </a>
                            </li>
                            <li class="profile__nav-item profile__nav-item--logout">
                                <a href="<?php echo wp_logout_url(home_url()); ?>" class="profile__nav-link">
                                    <span class="profile__nav-icon">üö™</span>
                                    –í—ã–π—Ç–∏
                                </a>
                            </li>
                        </ul>
                    </nav>
                </aside>

                <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
                <div class="profile__main">
                    <div class="profile__content">
                        <?php if (isset($success_message)) : ?>
                            <div class="profile-message profile-message--success">
                                <?php echo esc_html($success_message); ?>
                            </div>
                        <?php endif; ?>
                        
                        <?php if (isset($error_message)) : ?>
                            <div class="profile-message profile-message--error">
                                <?php echo esc_html($error_message); ?>
                            </div>
                        <?php endif; ?>

                        <!-- –°–µ–∫—Ü–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
                        <section class="profile-info">
                            <h2 class="profile-info__title">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h2>

                            <form method="post" class="profile-info__form">
                                <?php wp_nonce_field('update_profile', 'update_profile_nonce'); ?>
                                
                                <div class="profile-info__row">
                                    <div class="profile-info__field">
                                        <label class="profile-info__label">–ò–º—è</label>
                                        <div class="profile-info__input-wrapper">
                                            <input type="text" 
                                                   name="first_name" 
                                                   class="profile-info__input" 
                                                   value="<?php echo esc_attr($current_user->first_name); ?>"
                                                   required>
                                        </div>
                                    </div>

                                    <div class="profile-info__field">
                                        <label class="profile-info__label">–§–∞–º–∏–ª–∏—è</label>
                                        <div class="profile-info__input-wrapper">
                                            <input type="text" 
                                                   name="last_name" 
                                                   class="profile-info__input" 
                                                   value="<?php echo esc_attr($current_user->last_name); ?>"
                                                   required>
                                        </div>
                                    </div>
                                </div>

                                <div class="profile-info__field">
                                    <label class="profile-info__label">–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è</label>
                                    <div class="profile-info__input-wrapper">
                                        <input type="text" 
                                               name="display_name" 
                                               class="profile-info__input" 
                                               value="<?php echo esc_attr($current_user->display_name); ?>"
                                               required>
                                    </div>
                                </div>

                                <div class="profile-info__field">
                                    <label class="profile-info__label">Email</label>
                                    <div class="profile-info__input-wrapper">
                                        <input type="email" 
                                               name="email" 
                                               class="profile-info__input" 
                                               value="<?php echo esc_attr($current_user->user_email); ?>"
                                               required>
                                    </div>
                                </div>

                                <div class="profile-info__field">
                                    <label class="profile-info__label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                                    <div class="profile-info__input-wrapper">
                                        <input type="tel" 
                                               name="phone" 
                                               class="profile-info__input" 
                                               value="<?php echo esc_attr($user_phone); ?>">
                                    </div>
                                </div>
                            </form>
                        </section>

                        <!-- –°–µ–∫—Ü–∏—è —Å–º–µ–Ω—ã –ø–∞—Ä–æ–ª—è -->
                        <section class="profile-password">
                            <h2 class="profile-password__title">–°–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è</h2>

                            <form method="post" class="profile-password__form">
                                <?php wp_nonce_field('change_password', 'change_password_nonce'); ?>
                                
                                <div class="profile-password__field">
                                    <label class="profile-password__label">–î–µ–π—Å—Ç–≤—É—é—â–∏–π –ø–∞—Ä–æ–ª—å</label>
                                    <div class="profile-password__input-wrapper">
                                        <input type="password" 
                                               name="current_password" 
                                               class="profile-password__input" 
                                               placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å"
                                               required>
                                    </div>
                                </div>

                                <div class="profile-password__field">
                                    <label class="profile-password__label">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                                    <div class="profile-password__input-wrapper">
                                        <input type="password" 
                                               name="new_password" 
                                               class="profile-password__input" 
                                               placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å"
                                               minlength="6"
                                               required>
                                    </div>
                                </div>

                                <div class="profile-password__field">
                                    <label class="profile-password__label">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
                                    <div class="profile-password__input-wrapper">
                                        <input type="password" 
                                               name="confirm_password" 
                                               class="profile-password__input" 
                                               placeholder="–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –Ω–æ–≤—ã–π –ø–∞—Ä–æ–ª—å"
                                               minlength="6"
                                               required>
                                    </div>
                                </div>
                            </form>
                        </section>

                        <!-- –ö–Ω–æ–ø–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è -->
                        <div class="profile__actions">
                            <button type="submit" 
                                    form="profile-info__form" 
                                    class="profile__save-button button button--black">
                                –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
                            </button>
                            
                            <button type="submit" 
                                    form="profile-password__form" 
                                    class="profile__save-button button button--transparent">
                                –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

<?php get_footer(); ?>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
page-profile.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
/**
 * Template Name: –õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç
 * Template Post Type: page
 */

if (!defined('ABSPATH')) {
    exit;
}

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
if (!is_user_logged_in()) {
    wp_redirect(wp_login_url(get_permalink()));
    exit;
}

$current_user = wp_get_current_user();

get_header(); ?>

<div class="wrapper">
    <header class="header">
        <div class="header__container">
            <a href="<?php echo home_url(); ?>" class="header__logo logo">
                <?php bloginfo('name'); ?>
            </a>
            
            <div class="header__menu menu">
                <button type="button" class="menu__icon icon-menu">
                    <span></span>
                </button>
                
                <nav class="menu__body">
                    <?php
                    wp_nav_menu(array(
                        'theme_location' => 'primary',
                        'container' => false,
                        'menu_class' => 'menu__list',
                        'walker' => new Custom_Walker_Nav_Menu()
                    ));
                    ?>
                </nav>
            </div>
        </div>
    </header>

    <main class="page">
        <section class="section__title">
            <h1 class="title">–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç</h1>
        </section>

        <section class="profile">
            <div class="profile__container">
                <!-- –ë–æ–∫–æ–≤–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è -->
                <aside class="profile__sidebar">
                    <div class="profile__avatar">
                        <?php
                        $avatar = get_avatar($current_user->ID, 80, '', '', array('class' => 'profile__avatar-image'));
                        if ($avatar) {
                            echo $avatar;
                        } else {
                            echo '<img src="' . get_template_directory_uri() . '/img/profile/avatar.jpg" alt="–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" class="profile__avatar-image">';
                        }
                        ?>
                        <p class="profile__avatar-name">
                            <?php 
                            $display_name = $current_user->display_name ?: $current_user->user_login;
                            echo esc_html($display_name);
                            ?>
                        </p>
                    </div>
                    
                    <nav class="profile__navigation" aria-label="–°—Ç—Ä–∞–Ω–∏—Ü—ã –∞–∫–∫–∞—É–Ω—Ç–∞">
                        <ul class="profile__nav-list">
                            <li class="profile__nav-item profile__nav-item--orders <?php echo (is_page('profile') || !isset($_GET['tab'])) ? 'profile__nav-item--active' : ''; ?>">
                                <a href="<?php echo esc_url(get_permalink()); ?>" class="profile__nav-link" aria-current="page">
                                    <span class="profile__nav-icon">üì¶</span>
                                    –ó–∞–∫–∞–∑—ã
                                </a>
                            </li>
                            <li class="profile__nav-item profile__nav-item--account <?php echo (isset($_GET['tab']) && $_GET['tab'] === 'account') ? 'profile__nav-item--active' : ''; ?>">
                                <a href="<?php echo esc_url(add_query_arg('tab', 'account', get_permalink())); ?>" class="profile__nav-link">
                                    <span class="profile__nav-icon">üë§</span>
                                    –ê–Ω–∫–µ—Ç–∞
                                </a>
                            </li>
                            <li class="profile__nav-item profile__nav-item--favorites <?php echo (isset($_GET['tab']) && $_GET['tab'] === 'favorites') ? 'profile__nav-item--active' : ''; ?>">
                                <a href="<?php echo esc_url(add_query_arg('tab', 'favorites', get_permalink())); ?>" class="profile__nav-link">
                                    <span class="profile__nav-icon">‚ù§Ô∏è</span>
                                    –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
                                </a>
                            </li>
                            <li class="profile__nav-item profile__nav-item--logout">
                                <a href="<?php echo wp_logout_url(home_url()); ?>" class="profile__nav-link">
                                    <span class="profile__nav-icon">üö™</span>
                                    –í—ã–π—Ç–∏
                                </a>
                            </li>
                        </ul>
                    </nav>
                </aside>

                <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
                <div class="profile__main">
                    <?php
                    $current_tab = isset($_GET['tab']) ? $_GET['tab'] : 'orders';
                    
                    switch ($current_tab) {
                        case 'account':
                            include 'profile-account.php';
                            break;
                            
                        case 'favorites':
                            include 'profile-favorites.php';
                            break;
                            
                        default:
                            include 'profile-orders.php';
                            break;
                    }
                    ?>
                </div>
            </div>
        </section>
    </main>

<?php get_footer(); ?>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
password-reset.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
/**
 * Template Name: –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è
 */

if (!defined('ABSPATH')) {
    exit;
}

// –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
if (is_user_logged_in()) {
    wp_redirect(home_url());
    exit;
}

get_header(); ?>

<main class="page">
    <div class="page__container">
        <div class="back__container">
            <a href="javascript:history.back()" class="back__button">
                <img src="<?php echo get_template_directory_uri(); ?>/assets/img/icon/arrow-black.svg" alt="–ù–∞–∑–∞–¥" />
                –ù–∞–∑–∞–¥
            </a>
        </div>

        <div class="auth-page">
            <div class="auth-page__container">
                <div class="auth-page__content">
                    <h1 class="auth-page__title">–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</h1>
                    
                    <?php
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–æ–æ–±—â–µ–Ω–∏—è WordPress –µ—Å–ª–∏ –µ—Å—Ç—å
                    if (isset($_GET['checkemail']) && $_GET['checkemail'] == 'confirm') {
                        echo '<div class="auth-message success">–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–∞—à—É –ø–æ—á—Ç—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Å—ã–ª–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞—Ä–æ–ª—è.</div>';
                    }
                    
                    if (isset($_GET['error'])) {
                        $errors = array(
                            'invalid_email' => '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å —Ç–∞–∫–∏–º email –Ω–µ –Ω–∞–π–¥–µ–Ω',
                            'empty_email' => '–í–≤–µ–¥–∏—Ç–µ email –∞–¥—Ä–µ—Å'
                        );
                        if (isset($errors[$_GET['error']])) {
                            echo '<div class="auth-message error">' . $errors[$_GET['error']] . '</div>';
                        }
                    }
                    ?>

                    <!-- –§–æ—Ä–º–∞ –∑–∞–ø—Ä–æ—Å–∞ —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è -->
                    <form class="auth-form" id="password-reset-form" method="post">
                        <div class="auth-form__group">
                            <label for="user_email" class="auth-form__label">Email –∞–¥—Ä–µ—Å *</label>
                            <input type="email" id="user_email" name="user_email" class="auth-form__input" required>
                            <small style="color: #666; font-size: 12px; margin-top: 5px; display: block;">
                                –ù–∞ —ç—Ç–æ—Ç email –±—É–¥–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å—Å—ã–ª–∫–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
                            </small>
                        </div>
                        
                        <input type="hidden" name="action" value="password_reset_request">
                        <?php wp_nonce_field('password_reset_nonce', 'password_reset_nonce'); ?>
                        
                        <button type="submit" class="auth-form__button button-black" id="reset-submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É</button>
                    </form>
                    
                    <div class="auth-page__footer">
                        <p>–í—Å–ø–æ–º–Ω–∏–ª–∏ –ø–∞—Ä–æ–ª—å? <a href="<?php echo get_permalink(get_page_by_path('login')); ?>" class="auth-page__link">–í–æ–π—Ç–∏</a></p>
                        <p>–ù–µ—Ç –∞–∫–∫–∞—É–Ω—Ç–∞? <a href="<?php echo get_permalink(get_page_by_path('register')); ?>" class="auth-page__link">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const resetForm = document.getElementById('password-reset-form');
    const resetSubmit = document.getElementById('reset-submit');
    
    if (resetForm) {
        resetForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä
            resetSubmit.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';
            resetSubmit.disabled = true;
            
            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
            const formData = new FormData(resetForm);
            
            // AJAX –∑–∞–ø—Ä–æ—Å
            fetch('<?php echo admin_url('admin-ajax.php'); ?>', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                if (!response.ok) {
                    throw new Error('Network error: ' + response.status);
                }
                return response.json();
            })
            .then(data => {
                console.log('Password reset response:', data);
                
                if (data.success) {
                    // –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
                    window.flsNotifications.success(
                        data.data.message || '–°—Å—ã–ª–∫–∞ –¥–ª—è —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –Ω–∞ –≤–∞—à email',
                        '–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—á—Ç—É'
                    );
                    
                    // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
                    resetForm.reset();
                    
                    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã
                    setTimeout(() => {
                        window.location.href = '<?php echo get_permalink(get_page_by_path('login')); ?>';
                    }, 3000);
                    
                } else {
                    // –û—à–∏–±–∫–∞
                    window.flsNotifications.error(
                        data.data.message || '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –∑–∞–ø—Ä–æ—Å–∞',
                        '–û—à–∏–±–∫–∞'
                    );
                }
                
                resetSubmit.textContent = '–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É';
                resetSubmit.disabled = false;
            })
            .catch(error => {
                console.error('Error:', error);
                window.flsNotifications.error(
                    '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.',
                    '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏'
                );
                
                resetSubmit.textContent = '–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å—Å—ã–ª–∫—É';
                resetSubmit.disabled = false;
            });
        });
    }
});
</script>

<?php get_footer(); ?>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
profile-account.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
// –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–æ—Ä–º—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
if (isset($_POST['update_profile_nonce']) && wp_verify_nonce($_POST['update_profile_nonce'], 'update_profile')) {
    $user_id = get_current_user_id();
    $first_name = sanitize_text_field($_POST['first_name']);
    $last_name = sanitize_text_field($_POST['last_name']);
    $display_name = sanitize_text_field($_POST['display_name']);
    $email = sanitize_email($_POST['email']);
    $phone = sanitize_text_field($_POST['phone']);
    
    $userdata = array(
        'ID' => $user_id,
        'first_name' => $first_name,
        'last_name' => $last_name,
        'display_name' => $display_name,
        'user_email' => $email
    );
    
    $result = wp_update_user($userdata);
    
    if (!is_wp_error($result)) {
        // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ–ª–µ—Ñ–æ–Ω
        update_user_meta($user_id, 'billing_phone', $phone);
        
        echo '<div class="profile-message profile-message--success">–ü—Ä–æ—Ñ–∏–ª—å —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω</div>';
    } else {
        echo '<div class="profile-message profile-message--error">–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –ø—Ä–æ—Ñ–∏–ª—è</div>';
    }
}

$current_user = wp_get_current_user();
$user_phone = get_user_meta($current_user->ID, 'billing_phone', true);
?>

<div class="profile-account">
    <div class="profile-account__header">
        <h2 class="profile-account__title">–ê–Ω–∫–µ—Ç–∞</h2>
    </div>

    <form method="post" class="profile-account__form">
        <?php wp_nonce_field('update_profile', 'update_profile_nonce'); ?>
        
        <div class="profile-account__fields">
            <div class="profile-account__field">
                <label for="first_name" class="profile-account__label">–ò–º—è</label>
                <input type="text" 
                       id="first_name" 
                       name="first_name" 
                       value="<?php echo esc_attr($current_user->first_name); ?>" 
                       class="profile-account__input" 
                       required>
            </div>
            
            <div class="profile-account__field">
                <label for="last_name" class="profile-account__label">–§–∞–º–∏–ª–∏—è</label>
                <input type="text" 
                       id="last_name" 
                       name="last_name" 
                       value="<?php echo esc_attr($current_user->last_name); ?>" 
                       class="profile-account__input" 
                       required>
            </div>
            
            <div class="profile-account__field">
                <label for="display_name" class="profile-account__label">–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è</label>
                <input type="text" 
                       id="display_name" 
                       name="display_name" 
                       value="<?php echo esc_attr($current_user->display_name); ?>" 
                       class="profile-account__input" 
                       required>
            </div>
            
            <div class="profile-account__field">
                <label for="email" class="profile-account__label">Email</label>
                <input type="email" 
                       id="email" 
                       name="email" 
                       value="<?php echo esc_attr($current_user->user_email); ?>" 
                       class="profile-account__input" 
                       required>
            </div>
            
            <div class="profile-account__field">
                <label for="phone" class="profile-account__label">–¢–µ–ª–µ—Ñ–æ–Ω</label>
                <input type="tel" 
                       id="phone" 
                       name="phone" 
                       value="<?php echo esc_attr($user_phone); ?>" 
                       class="profile-account__input">
            </div>
        </div>
        
        <button type="submit" class="profile-account__submit button-black">
            –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
        </button>
    </form>
</div>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
profile-favorites.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
$favorites = get_user_favorites();
?>

<div class="profile-favorites">
    <div class="profile-favorites__header">
        <h2 class="profile-favorites__title">–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</h2>
    </div>

    <div class="profile-favorites__content">
        <?php if (!empty($favorites)) : ?>
            <div class="profile-favorites__products products">
                <?php foreach ($favorites as $product_id) : 
                    $product = wc_get_product($product_id);
                    if ($product && $product->is_visible()) : ?>
                        <div class="card">
                            <?php if ($product->is_on_sale()) : 
                                $regular_price = $product->get_regular_price();
                                $sale_price = $product->get_sale_price();
                                $discount = round((($regular_price - $sale_price) / $regular_price) * 100);
                            ?>
                                <span class="card__discount">-<?php echo $discount; ?>%</span>
                            <?php endif; ?>
                            
                            <span class="card__favourite active" data-product-id="<?php echo $product_id; ?>">
                                <svg width="18" height="15" viewBox="0 0 18 15" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M12.87 0C11.34 0 9.99 0.606935 9 1.73411C8.01 0.606935 6.66 0 5.13 0C2.34 0 0 2.25434 0 4.94218C0 5.11559 0 5.289 0 5.46241C0.36 9.53759 4.86 12.9191 7.47 14.5665C7.92 14.8266 8.46 15 9 15C9.54 15 10.08 14.8266 10.53 14.5665C13.14 12.9191 17.64 9.53759 18 5.54912C18 5.37571 18 5.20229 18 5.02888C18 2.25434 15.66 0 12.87 0ZM16.2 5.289C15.93 8.75724 11.43 11.8786 9.54 13.0058C9.18 13.1792 8.82 13.1792 8.46 13.0058C6.57 11.7919 2.16 8.67053 1.8 5.20229C1.8 5.20229 1.8 5.02888 1.8 4.94218C1.8 3.20812 3.33 1.73411 5.13 1.73411C6.48 1.73411 7.65 2.51445 8.19 3.64165C8.28 3.98841 8.64 4.16182 9 4.16182C9.36 4.16182 9.72 3.98841 9.81 3.64165C10.35 2.51445 11.52 1.73411 12.87 1.73411C14.67 1.73411 16.2 3.20812 16.2 4.94218C16.2 5.02888 16.2 5.20229 16.2 5.289Z" fill="#191919" />
                                    <path d="M12.87 0C11.34 0 9.99 0.606935 9 1.73411C8.01 0.606935 6.66 0 5.13 0C2.34 0 0 2.25434 0 4.94218C0 5.11559 0 5.289 0 5.46241C0.36 9.53759 4.86 12.9191 7.47 14.5665C7.92 14.8266 8.46 15 9 15C9.54 15 10.08 14.8266 10.53 14.5665C13.14 12.9191 17.64 9.53759 18 5.54912C18 5.37571 18 5.20229 18 5.02888C18 2.25433 15.66 0 12.87 0Z" fill="#F80F4E" />
                                </svg>
                            </span>
                            
                            <a href="<?php echo get_permalink($product_id); ?>" class="card__image-ibg">
                                <?php echo $product->get_image('full'); ?>
                            </a>
                            
                            <div class="card__conten">
                                <p class="card__article">–ê—Ä—Ç <?php echo $product->get_sku() ?: $product_id; ?></p>
                                
                                <?php
                                $brands = wp_get_post_terms($product_id, 'product_brand');
                                if ($brands && !is_wp_error($brands)) {
                                    echo '<a href="' . get_term_link($brands[0]) . '" class="card__attribute">' . $brands[0]->name . '</a>';
                                }
                                ?>
                                
                                <a href="<?php echo get_permalink($product_id); ?>" class="card__title">
                                    <?php echo $product->get_name(); ?>
                                </a>
                                
                                <div class="card__prices">
                                    <?php if ($product->is_on_sale()) : ?>
                                        <div class="card__price card__new-price"><?php echo $product->get_sale_price(); ?> ‚ÇΩ</div>
                                        <div class="card__price card__old-price"><?php echo $product->get_regular_price(); ?> ‚ÇΩ</div>
                                    <?php else : ?>
                                        <div class="card__price card__new-price"><?php echo $product->get_price(); ?> ‚ÇΩ</div>
                                    <?php endif; ?>
                                </div>
                                
                                <?php if ($product->is_in_stock()) : ?>
                                    <button class="card__button button-black add_to_cart_button" 
                                            data-product_id="<?php echo $product_id; ?>" 
                                            data-product_sku="<?php echo $product->get_sku(); ?>">
                                        –í –∫–æ—Ä–∑–∏–Ω—É
                                    </button>
                                <?php else : ?>
                                    <div class="card__button button-black disabled">–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏</div>
                                <?php endif; ?>
                            </div>
                        </div>
                    <?php endif; ?>
                <?php endforeach; ?>
            </div>
        <?php else : ?>
            <div class="profile-favorites__empty">
                <p>–í –∏–∑–±—Ä–∞–Ω–Ω–æ–º –ø–æ–∫–∞ –Ω–µ—Ç —Ç–æ–≤–∞—Ä–æ–≤</p>
                <a href="<?php echo esc_url(wc_get_page_permalink('shop')); ?>" class="button button-black">
                    –ü–µ—Ä–µ–π—Ç–∏ –≤ –º–∞–≥–∞–∑–∏–Ω
                </a>
            </div>
        <?php endif; ?>
    </div>
</div>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
profile-orders.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
// –ü–æ–ª—É—á–∞–µ–º –∑–∞–∫–∞–∑—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
$customer_orders = wc_get_orders(array(
    'customer' => get_current_user_id(),
    'limit' => 10,
    'orderby' => 'date',
    'order' => 'DESC'
));
?>

<div class="profile-orders">
    <div class="profile-orders__header">
        <h2 class="profile-orders__title">–ó–∞–∫–∞–∑—ã</h2>
    </div>

    <div class="profile-orders__list">
        <?php if (!empty($customer_orders)) : ?>
            <?php foreach ($customer_orders as $order) : 
                $order_id = $order->get_id();
                $order_date = $order->get_date_created();
                $order_total = $order->get_total();
                $order_status = $order->get_status();
                $order_items = $order->get_items();
                
                // –ü–æ–ª—É—á–∞–µ–º —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
                $status_labels = array(
                    'pending'    => '–û–∂–∏–¥–∞–µ—Ç –æ–ø–ª–∞—Ç—ã',
                    'processing' => '–í –æ–±—Ä–∞–±–æ—Ç–∫–µ',
                    'on-hold'    => '–ù–∞ —É–¥–µ—Ä–∂–∞–Ω–∏–∏',
                    'completed'  => '–ó–∞–≤–µ—Ä—à–µ–Ω',
                    'cancelled'  => '–û—Ç–º–µ–Ω–µ–Ω',
                    'refunded'   => '–í–æ–∑–≤—Ä–∞—â–µ–Ω',
                    'failed'     => '–ù–µ—É–¥–∞—á–Ω—ã–π'
                );
                
                $status_label = isset($status_labels[$order_status]) ? $status_labels[$order_status] : $order_status;
                
                // –ò–∫–æ–Ω–∫–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å—Ç–∞—Ç—É—Å–∞
                $status_icon = 'delivery-process.svg';
                $status_class = '';
                
                switch ($order_status) {
                    case 'completed':
                        $status_icon = 'delivery-check.svg';
                        $status_class = 'order-card__icon-bg--success';
                        break;
                    case 'processing':
                        $status_icon = 'delivery-truck.svg';
                        $status_class = 'order-card__icon-bg--primary';
                        break;
                    case 'pending':
                        $status_icon = 'delivery-process.svg';
                        $status_class = 'order-card__icon-bg--warning';
                        break;
                    default:
                        $status_icon = 'delivery-process.svg';
                        $status_class = 'order-card__icon-bg--secondary';
                }
                ?>
                
                <div class="profile-orders__item order-card">
                    <div class="order-card__content">
                        <div class="order-card__info">
                            <div class="order-card__date">
                                –û—Ç <?php echo $order_date->format('d F Y'); ?> ‚Ä¢ #<?php echo $order_id; ?>
                            </div>
                            <h3 class="order-card__status"><?php echo esc_html($status_label); ?></h3>
                            <div class="order-card__delivery">
                                <?php
                                // –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ
                                $shipping_method = $order->get_shipping_method();
                                if ($shipping_method) {
                                    echo esc_html($shipping_method);
                                } else {
                                    echo '–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥–æ—Å—Ç–∞–≤–∫–µ';
                                }
                                ?>
                            </div>
                        </div>

                        <div class="order-card__price">
                            <div class="order-card__amount"><?php echo wc_price($order_total); ?></div>
                            <div class="order-card__icon">
                                <div class="order-card__icon-bg order-card__icon-bg--primary <?php echo $status_class; ?>"></div>
                                <div class="order-card__icon-bg order-card__icon-bg--secondary"></div>
                                <img class="order-card__icon-image" 
                                     src="<?php echo get_template_directory_uri(); ?>/img/icon/<?php echo $status_icon; ?>" 
                                     alt="–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞" />
                            </div>
                        </div>
                    </div>
                    
                    <div class="order-card__actions">
                        <a href="<?php echo esc_url($order->get_view_order_url()); ?>" 
                           class="order-card__action order-card__action--view">
                            –ü–æ–¥—Ä–æ–±–Ω–µ–µ
                        </a>
                        
                        <?php if ($order_status === 'completed') : ?>
                            <a href="<?php echo esc_url(wc_get_endpoint_url('view-order', $order_id, wc_get_page_permalink('myaccount'))); ?>" 
                               class="order-card__action order-card__action--repeat">
                                –ü–æ–≤—Ç–æ—Ä–∏—Ç—å –∑–∞–∫–∞–∑
                            </a>
                        <?php else : ?>
                            <a href="<?php echo esc_url($order->get_view_order_url()); ?>" 
                               class="order-card__action order-card__action--track">
                                –û—Ç—Å–ª–µ–¥–∏—Ç—å
                            </a>
                        <?php endif; ?>
                    </div>
                </div>
            <?php endforeach; ?>
        <?php else : ?>
            <div class="profile-orders__empty">
                <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–∫–∞–∑–æ–≤</p>
                <a href="<?php echo esc_url(wc_get_page_permalink('shop')); ?>" class="button button-black">
                    –ù–∞—á–∞—Ç—å –ø–æ–∫—É–ø–∫–∏
                </a>
            </div>
        <?php endif; ?>
    </div>
</div>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
register.php
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
<?php
/**
 * Template Name: –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
 */

if (!defined('ABSPATH')) {
    exit;
}

// –ï—Å–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–∂–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ –≥–ª–∞–≤–Ω—É—é
if (is_user_logged_in()) {
    wp_redirect(home_url());
    exit;
}

get_header(); ?>

<main class="page">
    <div class="page__container">
        <div class="back__container">
            <a href="javascript:history.back()" class="back__button">
                <img src="<?php echo get_template_directory_uri(); ?>/assets/img/icon/arrow-black.svg" alt="–ù–∞–∑–∞–¥" />
                –ù–∞–∑–∞–¥
            </a>
        </div>

        <div class="auth-page">
            <div class="auth-page__container">
                <div class="auth-page__content">
                    <h1 class="auth-page__title">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h1>
                    
                    <?php
                    // –í—ã–≤–æ–¥ –æ—à–∏–±–æ–∫ –∏ —Å–æ–æ–±—â–µ–Ω–∏–π
                    if (isset($_GET['registration']) && $_GET['registration'] == 'success') {
                        echo '<div class="auth-message success">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏.</div>';
                    }
                    
                    if (isset($_GET['error'])) {
                        $errors = array(
                            'empty_fields' => '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è',
                            'password_mismatch' => '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç',
                            'email_exists' => 'Email —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω',
                            'invalid_email' => '–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç email',
                            'weak_password' => '–ü–∞—Ä–æ–ª—å —Å–ª–∏—à–∫–æ–º —Å–ª–∞–±—ã–π',
                            'username_exists' => '–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É–∂–µ –∑–∞–Ω—è—Ç–æ'
                        );
                        if (isset($errors[$_GET['error']])) {
                            echo '<div class="auth-message error">' . $errors[$_GET['error']] . '</div>';
                        }
                    }
                    ?>

                    <form class="auth-form" id="register-form" method="post">
                        <div class="auth-form__group">
                            <label for="reg_username" class="auth-form__label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è *</label>
                            <input type="text" id="reg_username" name="username" class="auth-form__input" required>
                            <small style="color: #666; font-size: 12px; margin-top: 5px; display: block;">
                                –ï—Å–ª–∏ –∏–º—è –∑–∞–Ω—è—Ç–æ, —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
                            </small>
                        </div>
                        
                        <div class="auth-form__group">
                            <label for="reg_email" class="auth-form__label">Email *</label>
                            <input type="email" id="reg_email" name="email" class="auth-form__input" required>
                        </div>
                        
                        <div class="auth-form__group">
                            <label for="reg_password" class="auth-form__label">–ü–∞—Ä–æ–ª—å *</label>
                            <input type="password" id="reg_password" name="password" class="auth-form__input" required>
                        </div>
                        
                        <div class="auth-form__group">
                            <label for="reg_password2" class="auth-form__label">–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å *</label>
                            <input type="password" id="reg_password2" name="password2" class="auth-form__input" required>
                        </div>
                        
                        <div class="auth-form__group">
                            <label class="auth-form__checkbox">
                                <input type="checkbox" name="agree_terms" required>
                                <span>–Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å <a href="<?php echo get_permalink(get_page_by_path('terms')); ?>" target="_blank">–ø—Ä–∞–≤–∏–ª–∞–º–∏ —Å–∞–π—Ç–∞</a></span>
                            </label>
                        </div>
                        
                        <input type="hidden" name="action" value="custom_registration">
                        <input type="hidden" name="redirect_to" value="<?php 
                            echo isset($_GET['redirect_to']) ? esc_url($_GET['redirect_to']) : home_url();
                        ?>">
                        <?php wp_nonce_field('custom_registration_nonce', 'registration_nonce'); ?>
                        
                        <button type="submit" class="auth-form__button button-black" id="register-submit">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                        
                        <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π AJAX -->
                        <div class="auth-form__message" id="register-message" style="display: none;"></div>
                    </form>
                    
                    <div class="auth-page__footer">
                        <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="<?php echo get_permalink(get_page_by_path('login')); ?>" class="auth-page__link">–í–æ–π—Ç–∏</a></p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</main>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const registerForm = document.getElementById('register-form');
    const registerSubmit = document.getElementById('register-submit');
    
    if (registerForm) {
        registerForm.addEventListener('submit', function(e) {
            e.preventDefault();
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ª–æ–∞–¥–µ—Ä
            registerSubmit.textContent = '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è...';
            registerSubmit.disabled = true;
            
            // –°–æ–±–∏—Ä–∞–µ–º –¥–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã
            const formData = new FormData(registerForm);
            
            console.log('Sending registration request...');
            
            // AJAX –∑–∞–ø—Ä–æ—Å
            fetch('<?php echo admin_url('admin-ajax.php'); ?>', {
                method: 'POST',
                body: formData
            })
            .then(response => {
                console.log('Response status:', response.status);
                if (!response.ok) {
                    throw new Error('Network error: ' + response.status);
                }
                return response.json();
            })
            .then(data => {
                console.log('Response data:', data);
                
                if (data.success) {
                    // –£—Å–ø–µ—à–Ω–∞—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                    if (data.data.username && data.data.username !== formData.get('username')) {
                        window.flsNotifications.success(
                            '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –í–∞—à–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: ' + data.data.username + '. –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ...',
                            '–£—Å–ø–µ—Ö'
                        );
                    } else {
                        window.flsNotifications.success(
                            '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞! –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ...',
                            '–£—Å–ø–µ—Ö'
                        );
                    }
                    
                    // –†–µ–¥–∏—Ä–µ–∫—Ç –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
                    if (data.data.redirect) {
                        console.log('Redirecting to:', data.data.redirect);
                        setTimeout(() => {
                            window.location.href = data.data.redirect;
                        }, 2000);
                    } else {
                        console.log('Redirecting to home');
                        setTimeout(() => {
                            window.location.href = '<?php echo home_url(); ?>';
                        }, 2000);
                    }
                    
                } else {
                    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å —Ä–∞–∑–Ω—ã–º–∏ —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ –æ—Ç–≤–µ—Ç–∞
                    let errorMessage = '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏';
                    
                    if (data.data && data.data.message) {
                        // –§–æ—Ä–º–∞—Ç: data.data.message
                        errorMessage = data.data.message;
                    } else if (data.message) {
                        // –§–æ—Ä–º–∞—Ç: data.message
                        errorMessage = data.message;
                    } else if (data.data && Array.isArray(data.data)) {
                        // –§–æ—Ä–º–∞—Ç: data.data –∫–∞–∫ –º–∞—Å—Å–∏–≤ –æ—à–∏–±–æ–∫
                        errorMessage = data.data.join(', ');
                    } else if (typeof data.data === 'string') {
                        // –§–æ—Ä–º–∞—Ç: data.data –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞
                        errorMessage = data.data;
                    }
                    
                    console.log('Error message:', errorMessage);
                    
                    // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
                    window.flsNotifications.error(
                        errorMessage,
                        '–û—à–∏–±–∫–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏'
                    );
                    
                    // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–Ω–æ–ø–∫—É –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
                    registerSubmit.textContent = '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è';
                    registerSubmit.disabled = false;
                }
            })
            .catch(error => {
                console.error('Error:', error);
                window.flsNotifications.error(
                    '–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ —Å–µ—Ç–∏. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.',
                    '–û—à–∏–±–∫–∞ —Å–µ—Ç–∏'
                );
                
                registerSubmit.textContent = '–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è';
                registerSubmit.disabled = false;
            });
        });
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
    const usernameInput = document.getElementById('reg_username');
    if (usernameInput) {
        let checkTimeout;
        
        usernameInput.addEventListener('input', function() {
            clearTimeout(checkTimeout);
            const username = this.value.trim();
            
            if (username.length < 3) {
                return;
            }
            
            checkTimeout = setTimeout(() => {
                fetch('<?php echo admin_url('admin-ajax.php'); ?>', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                    },
                    body: 'action=check_username&username=' + encodeURIComponent(username)
                })
                .then(response => response.json())
                .then(data => {
                    if (!data.available) {
                        window.flsNotifications.warning(
                            '–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è "' + username + '" —É–∂–µ –∑–∞–Ω—è—Ç–æ. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.',
                            '–ò–º—è –∑–∞–Ω—è—Ç–æ'
                        );
                    }
                });
            }, 500);
        });
    }
});
</script>

<?php get_footer(); ?>

==================================================

–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞
scanner.js
—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
const fs = require('fs');
const path = require('path');

class FileScanner {
    constructor(outputFile = 'scan_results.txt') {
        this.outputFile = outputFile;
        this.results = [];
    }

    scanDirectory(dirPath) {
        try {
            const items = fs.readdirSync(dirPath);
            
            for (const item of items) {
                const fullPath = path.join(dirPath, item);
                const stat = fs.statSync(fullPath);
                
                if (stat.isDirectory()) {
                    // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø–∞–ø–∫–∏
                    if (!['node_modules', '.git'].includes(item)) {
                        this.scanDirectory(fullPath);
                    }
                } else if (stat.isFile()) {
                    this.processFile(fullPath);
                }
            }
        } catch (error) {
            console.error(`–û—à–∏–±–∫–∞: ${dirPath}`);
        }
    }

    processFile(filePath) {
        try {
            console.log(`–°–∫–∞–Ω–∏—Ä—É—é: ${filePath}`);
            const content = fs.readFileSync(filePath, 'utf8');
            
            this.results.push({
                path: filePath,
                content: content
            });
            
        } catch (error) {
            this.results.push({
                path: filePath,
                content: `[–û–®–ò–ë–ö–ê –ß–¢–ï–ù–ò–Ø: ${error.message}]`
            });
        }
    }

    writeResults() {
        let outputContent = '';
        
        for (const result of this.results) {
            outputContent += `–ø—É—Ç—å –¥–æ —Ñ–∞–π–ª–∞\n${result.path}\n`;
            outputContent += `—Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞\n${result.content}\n`;
            outputContent += '\n' + '='.repeat(50) + '\n\n';
        }
        
        fs.writeFileSync(this.outputFile, outputContent, 'utf8');
        console.log(`‚úÖ –ì–æ—Ç–æ–≤–æ! –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Ñ–∞–π–ª–µ: ${this.outputFile}`);
    }

    scan(startPath) {
        console.log(`–ù–∞—á–∏–Ω–∞—é —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: ${startPath}`);
        
        if (!fs.existsSync(startPath)) {
            console.error(`‚ùå –ü—É—Ç—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç: ${startPath}`);
            return;
        }
        
        const stat = fs.statSync(startPath);
        
        if (stat.isDirectory()) {
            this.scanDirectory(startPath);
        } else if (stat.isFile()) {
            this.processFile(startPath);
        }
        
        this.writeResults();
    }
}

// –ó–∞–ø—É—Å–∫
const scanner = new FileScanner('—Ä–µ–∑—É–ª—å—Ç–∞—Ç.txt');
const scanPath = process.argv[2] || '.';
scanner.scan(scanPath);


==================================================



==================================================

